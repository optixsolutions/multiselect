!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).VueSelect={})}(this,(function(t){"use strict";function e(t,e,i,n,o,s,r,l,d,c){"boolean"!=typeof r&&(d=l,l=r,r=!1);const a="function"==typeof i?i.options:i;let u;if(t&&t.render&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns,a._compiled=!0,o&&(a.functional=!0)),n&&(a._scopeId=n),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,d(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},a._ssrRegister=u):e&&(u=r?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,l(t))}),u)if(a.functional){const t=a.render;a.render=function(e,i){return u.call(i),t(e,i)}}else{const t=a.beforeCreate;a.beforeCreate=t?[].concat(t,u):[u]}return i}var i={props:{options:{type:Array,default:function(){return[]}},optionIdentifier:{type:[String,Number],required:!0},selectedOptions:{type:Array,default:function(){return[]}},loadingMore:{type:Boolean,default:!1},noOptionsMessage:{type:String,required:!0}},data:function(){return{focusedOption:null,lastScroll:0,scrollableHeight:0,scrollLoaderThreshold:60}},computed:{selectedOptionValues:function(){var t=this;return this.selectedOptions.map((function(e){return e[t.optionIdentifier]}))},hasOptions:function(){return 0!==this.options.length},focusableOptions:function(){return this.options.filter((function(t){return!t.disabled}))},hasFocusableOptions:function(){return 0!==this.focusableOptions.length},focusedOptionIndex:function(){var t=this;return this.focusedOption?this.options.findIndex((function(e){return e[t.optionIdentifier]===t.focusedOption[t.optionIdentifier]})):null},lastOptionIndex:function(){return this.options.length-1}},watch:{options:{handler:function(){this.lastScroll=0,this.setScrollableHeight()},deep:!0}},created:function(){document.addEventListener("keydown",this.keydownListener)},mounted:function(){this.$refs.scrollContent.addEventListener("scroll",this.scrollListener),this.setScrollableHeight(),this.hasFocusableOptions&&this.setFocusedOption(this.focusableOptions[0])},beforeDestroy:function(){document.removeEventListener("keydown",this.keydownListener),this.$refs.scrollContent.removeEventListener("keydown",this.scrollListener)},methods:{keydownListener:function(t){if(this.hasFocusableOptions){if(13===t.keyCode)return t.preventDefault(),1===this.focusableOptions.length?this.toggleSelectedOption(this.focusableOptions[0]):this.toggleSelectedOption(this.options[this.focusedOptionIndex]);if(38===t.keyCode){var e=this.getPreviousFocusableIndex(this.focusedOptionIndex);this.setFocusedOption(this.options[e]),this.scrollToOption(e)}if(40===t.keyCode){var i=this.getNextFocusableIndex(this.focusedOptionIndex);this.setFocusedOption(this.options[i]),this.scrollToOption(i)}}},setScrollableHeight:function(){this.scrollableHeight=this.$refs.scrollContent.scrollHeight-this.$refs.scrollContent.clientHeight},scrollListener:function(){var t=this.$refs.scrollContent.scrollTop;!this.loadingMore&&t>this.lastScroll&&this.scrollableHeight-t<this.scrollLoaderThreshold&&(this.lastScroll=t,this.$emit("load-more"))},getPreviousFocusableIndex:function(t){if(t>0){var e=t-1;return this.optionIsDisabled(this.options[e])?this.getPreviousFocusableIndex(e):e}return this.optionIsDisabled(this.options[0])?this.getNextFocusableIndex(0):0},getNextFocusableIndex:function(t){if(t!==this.lastOptionIndex){var e=null!==t?t+1:0;return this.optionIsDisabled(this.options[e])?this.getNextFocusableIndex(e):e}return this.optionIsDisabled(this.options[t])?this.getPreviousFocusableIndex(t):t},setFocusedOption:function(t){this.focusedOption=t},clearFocusedOption:function(){this.focusedOption=null},optionIsFocused:function(t){return this.focusedOption&&this.focusedOption[this.optionIdentifier]===t},optionIsSelected:function(t){return this.selectedOptionValues.includes(t)},optionIsDisabled:function(t){return t.disabled||!1},toggleSelectedOption:function(t){if(t){if(this.optionIsDisabled(t))return;if(this.optionIsSelected(t[this.optionIdentifier]))return this.$emit("deselect-option",t);this.$emit("select-option",t)}},scrollToTop:function(){this.$refs.scrollContent.scrollTo(0,0)},scrollToOption:function(t){this.$refs["option-".concat(t)][0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}}},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vs-dropdown"},[i("div",{ref:"scrollContent",staticClass:"vs-dropdown-scroll"},[t.hasOptions?t._l(t.options,(function(e,n){return i("div",{key:e[t.optionIdentifier],ref:"option-"+n,refInFor:!0,on:{click:function(i){return i.stopPropagation(),t.toggleSelectedOption(e)},mouseout:t.clearFocusedOption,mouseenter:function(i){return t.setFocusedOption(e)}}},[t._t("dropdown-option",null,null,{option:e,classes:{focused:t.optionIsFocused(e[t.optionIdentifier]),selected:t.optionIsSelected(e[t.optionIdentifier]),disabled:t.optionIsDisabled(e)}})],2)})):i("div",{staticClass:"vs-dropdown-no-options"},[t._v("\n            "+t._s(t.noOptionsMessage)+"\n        ")]),t._v(" "),t.loadingMore?t._t("dropdown-loader"):t._e()],2)])};n._withStripped=!0;var o={components:{SelectDropdown:e({render:n,staticRenderFns:[]},void 0,i,void 0,!1,void 0,!1,void 0,void 0,void 0)},props:{value:{type:[String,Number,Array],default:function(){return[]}},id:{type:String,default:null},options:{type:Array,default:function(){return[]}},optionIdentifier:{type:[String,Number],default:"value"},optionLabel:{type:String,default:"label"},loading:{type:Boolean,default:!1},loadingMore:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},placeholder:{type:String,default:"Please select..."},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:"auto",validator:function(t){return-1!==["auto","down","up"].indexOf(t)}},noOptionsMessage:{type:String,default:"No options found."}},data:function(){return{searchQuery:"",inputIsActive:!1,dropdownIsVisible:!1,dropdownOpenDirection:"down",selectedOptions:[]}},computed:{selectClasses:function(){return{disabled:this.disabled,"vs-open-up":"up"===this.dropdownOpenDirection,"vs-open-down":"down"===this.dropdownOpenDirection}},hasValue:function(){return 0!==this.selectedOptions.length},hasOptions:function(){return 0!==this.options.length},hasSearchQuery:function(){return 0!==this.searchQuery.length},selectedOptionValues:function(){var t=this;return this.selectedOptions.map((function(e){return e[t.optionIdentifier]}))},firstSelectedOption:function(){return this.hasValue?this.selectedOptions[0]:null}},watch:{value:{handler:function(t){this.hasOptions&&this.setSelectedOptions(t,"value")},immediate:!0},options:{handler:function(){this.setSelectedOptions(this.value,"options")},deep:!0},searchQuery:function(t){this.disabled||(this.hasSearchQuery&&this.showDropdown(),this.dropdownIsVisible&&this.$refs.dropdown.scrollToTop(),this.$refs.input.setAttribute("size",t.length+2),this.$emit("query-change",t))},selectedOptionValues:function(t){if(!this.disabled){if(this.multiple)return this.$emit("input",t);if(0!==t.length)return this.$emit("input",t[0]);this.$emit("input",null)}}},created:function(){var t=this;["click","touchstart"].forEach((function(e){document.addEventListener(e,t.deactivateSelectOnClick)})),document.addEventListener("keydown",this.keydownListener)},destroyed:function(){var t=this;["click","touchstart"].forEach((function(e){document.removeEventListener(e,t.deactivateSelectOnClick)})),document.removeEventListener("keydown",this.keydownListener)},methods:{keydownListener:function(t){this.disabled||(40===t.keyCode&&this.inputIsActive&&!this.dropdownIsVisible&&(this.dropdownIsVisible=!0),8===t.keyCode&&this.inputIsActive&&this.hasValue&&!this.multiple&&(this.selectedOptions=[]),9!==t.keyCode&&27!==t.keyCode||!this.dropdownIsVisible||(this.dropdownIsVisible=!1))},setSelectedOptions:function(t){var e=this;if(!t)return this.selectedOptions=[];var i=Array.isArray(t)?t:[t];this.selectedOptions=this.options.filter((function(t){return i.includes(t[e.optionIdentifier])}))},setDropdownPosition:function(){if("auto"===this.openDirection){var t=this.$refs.select.getBoundingClientRect(),e=this.$refs.dropdown.$el.getBoundingClientRect();return t.y+t.height+e.height>window.innerHeight?this.dropdownOpenDirection="up":this.dropdownOpenDirection="down"}return this.dropdownOpenDirection=this.openDirection},activateSelect:function(){this.disabled||(this.focusInput(),this.showDropdown())},focusInput:function(){this.$refs.input.focus(),this.inputIsActive=!0},blurInput:function(){this.inputIsActive=!1},showDropdown:function(){var t=this;this.disabled||this.dropdownIsVisible||(this.dropdownIsVisible=!0,this.$nextTick((function(){t.setDropdownPosition()})))},deactivateSelectOnClick:function(t){this.dropdownIsVisible&&this.$refs.select!==t.target&&!this.$refs.select.contains(t.target)&&(this.searchQuery="",this.inputIsActive=!1,this.dropdownIsVisible=!1)},selectOption:function(t){if(!this.disabled){if(this.focusInput(),this.searchQuery="",this.dropdownIsVisible=!1,this.$emit("change"),this.$emit("select",t),this.multiple)return this.selectedOptions.push(t);this.selectedOptions=[t]}},deselectOption:function(t){var e=this;this.disabled||(this.dropdownIsVisible=!1,this.$emit("change"),this.$emit("deselect",t),this.selectedOptions=this.selectedOptions.filter((function(i){return i[e.optionIdentifier]!==t[e.optionIdentifier]})))}}},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vs-reset"},[i("div",{ref:"select",staticClass:"vs-select",class:t.selectClasses,on:{click:t.activateSelect}},[i("div",{staticClass:"vs-select-control"},[i("div",{staticClass:"vs-select-container"},[t.hasValue||t.hasSearchQuery?t._e():i("div",{staticClass:"vs-select-placeholder"},[t._v("\n                    "+t._s(t.placeholder)+"\n                ")]),t._v(" "),t.hasValue&&t.multiple?t._l(t.selectedOptions,(function(e){return i("div",{key:e[t.optionIdentifier],staticClass:"vs-select-multiple-value",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"vs-select-multiple-value-label"},[t._v("\n                            "+t._s(e[t.optionLabel])+"\n                        ")]),t._v(" "),i("div",{staticClass:"vs-select-multiple-value-remove",on:{click:function(i){return t.deselectOption(e)}}})])})):t._e(),t._v(" "),t.hasSearchQuery||!t.hasValue||t.multiple?t._e():i("div",{staticClass:"vs-select-single-value"},[t._v("\n                    "+t._s(t.firstSelectedOption[t.optionLabel])+"\n                ")]),t._v(" "),i("div",{staticClass:"vs-select-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],ref:"input",attrs:{id:t.id,size:"2",type:"text",readonly:t.disabled||!t.searchable,tabindex:t.disabled?-1:0,autocomplete:"off"},domProps:{value:t.searchQuery},on:{blur:t.blurInput,focus:t.activateSelect,input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})])],2),t._v(" "),i("div",{staticClass:"vs-select-actions"},[t.loading?i("div",{staticClass:"vs-select-loader"},t._l(4,(function(t){return i("div",{key:t})})),0):i("div",{staticClass:"vs-select-arrow"})])]),t._v(" "),t.dropdownIsVisible?i("select-dropdown",{ref:"dropdown",attrs:{options:t.options,"loading-more":t.loadingMore,"selected-options":t.selectedOptions,"option-identifier":t.optionIdentifier,"no-options-message":t.noOptionsMessage},on:{"load-more":function(e){return t.$emit("load-more")},"select-option":t.selectOption,"deselect-option":t.deselectOption},scopedSlots:t._u([{key:"dropdown-option",fn:function(e){var n=e.option,o=e.classes;return[t._t("dropdown-option",[i("div",{staticClass:"vs-dropdown-option",class:o},[t._v("\n                        "+t._s(n[t.optionLabel])+"\n                    ")])],null,{option:n,classes:o})]}},{key:"dropdown-loader",fn:function(){return[t._t("dropdown-loader",[i("div",{staticClass:"vs-dropdown-loader"},[t._v("\n                        Loading...\n                    ")])])]},proxy:!0}],null,!0)}):t._e()],1)])};s._withStripped=!0;var r=e({render:s,staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.componentName||"vue-select";t.component(i,r)},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=vue-select.min.js.map
