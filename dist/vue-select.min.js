!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).VueSelect={})}(this,(function(e){"use strict";var t=function(e,t,n,i,o,s,r,l,d,c){"boolean"!=typeof r&&(d=l,l=r,r=!1);var u,a="function"==typeof n?n.options:n;if(e&&e.render&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,o&&(a.functional=!0)),i&&(a._scopeId=i),s?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},a._ssrRegister=u):t&&(u=r?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),u)if(a.functional){var p=a.render;a.render=function(e,t){return u.call(t),p(e,t)}}else{var h=a.beforeCreate;a.beforeCreate=h?[].concat(h,u):[u]}return n},n={props:{options:{type:Array,default:function(){return[]}},optionIdentifier:{type:[String,Number],required:!0},selectedOptions:{type:Array,default:function(){return[]}},loadingMore:{type:Boolean,default:!1},noOptionsMessage:{type:String,required:!0}},data:function(){return{focusedOption:null,lastScroll:0,scrollableHeight:0,scrollLoaderThreshold:60}},computed:{selectedOptionValues:function(){var e=this;return this.selectedOptions.map((function(t){return t[e.optionIdentifier]}))},hasOptions:function(){return!!this.options.length},hasFocusableOptions:function(){return!!this.options.filter((function(e){return!e.disabled})).length},focusedOptionIndex:function(){var e=this;return this.focusedOption?this.options.findIndex((function(t){return t[e.optionIdentifier]===e.focusedOption[e.optionIdentifier]})):null},lastOptionIndex:function(){return this.options.length-1}},created:function(){document.addEventListener("keydown",this.keydownListener)},mounted:function(){this.$refs.scrollContent.addEventListener("scroll",this.scrollListener),this.scrollableHeight=this.$refs.scrollContent.scrollHeight-this.$refs.scrollContent.clientHeight},beforeDestroy:function(){document.removeEventListener("keydown",this.keydownListener),this.$refs.scrollContent.removeEventListener("keydown",this.scrollListener)},methods:{keydownListener:function(e){if(this.hasFocusableOptions){if(13===e.keyCode&&(this.toggleSelectedOption(this.options[this.focusedOptionIndex]),e.preventDefault()),38===e.keyCode){var t=this.getPreviousFocusableIndex(this.focusedOptionIndex);this.setFocusedOption(this.options[t]),this.scrollToOption(t)}if(40===e.keyCode){var n=this.getNextFocusableIndex(this.focusedOptionIndex);this.setFocusedOption(this.options[n]),this.scrollToOption(n)}}},scrollListener:function(){var e=this.$refs.scrollContent.scrollTop;!this.loadingMore&&e>this.lastScroll&&this.scrollableHeight-e<this.scrollLoaderThreshold&&(this.lastScroll=e,this.$emit("load-more"))},getPreviousFocusableIndex:function(e){if(e>0){var t=e-1;return this.optionIsDisabled(this.options[t])?this.getPreviousFocusableIndex(t):t}return this.optionIsDisabled(this.options[0])?this.getNextFocusableIndex(0):0},getNextFocusableIndex:function(e){if(e!==this.lastOptionIndex){var t=null!==e?e+1:0;return this.optionIsDisabled(this.options[t])?this.getNextFocusableIndex(t):t}return this.optionIsDisabled(this.options[e])?this.getPreviousFocusableIndex(e):e},setFocusedOption:function(e){this.focusedOption=e},clearFocusedOption:function(){this.focusedOption=null},optionIsFocused:function(e){return this.focusedOption&&this.focusedOption[this.optionIdentifier]===e},optionIsSelected:function(e){return this.selectedOptionValues.includes(e)},optionIsDisabled:function(e){return e.disabled||!1},toggleSelectedOption:function(e){if(e){if(this.optionIsDisabled(e))return;if(this.optionIsSelected(e[this.optionIdentifier]))return this.$emit("deselect-option",e);this.$emit("select-option",e)}},scrollToOption:function(e){this.$refs["option-".concat(e)][0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}}},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vs-dropdown"},[n("div",{ref:"scrollContent",staticClass:"vs-dropdown-scroll"},[e.hasOptions?e._l(e.options,(function(t,i){return n("div",{key:t[e.optionIdentifier],ref:"option-"+i,refInFor:!0,on:{click:function(n){return n.stopPropagation(),e.toggleSelectedOption(t)},mouseout:e.clearFocusedOption,mouseenter:function(n){return e.setFocusedOption(t)}}},[e._t("dropdown-option",null,null,{option:t,classes:{focused:e.optionIsFocused(t[e.optionIdentifier]),selected:e.optionIsSelected(t[e.optionIdentifier]),disabled:e.optionIsDisabled(t)}})],2)})):n("div",{staticClass:"vs-dropdown-no-options"},[e._v("\n            "+e._s(e.noOptionsMessage)+"\n        ")]),e._v(" "),e.loadingMore?e._t("dropdown-loader"):e._e()],2)])};i._withStripped=!0;var o={components:{SelectDropdown:t({render:i,staticRenderFns:[]},void 0,n,void 0,!1,void 0,void 0,void 0)},props:{value:{type:[String,Number,Array],default:function(){return[]}},id:{type:String,default:null},options:{type:Array,default:function(){return[]}},optionIdentifier:{type:[String,Number],default:"value"},optionLabel:{type:String,default:"label"},loading:{type:Boolean,default:!1},loadingMore:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Please select..."},openDirection:{type:String,default:"auto",validator:function(e){return-1!==["auto","down","up"].indexOf(e)}},noOptionsMessage:{type:String,default:"No options found."}},data:function(){return{searchQuery:"",inputIsActive:!1,selectClass:null,dropdownIsVisible:!1,selectedOptions:[]}},computed:{hasValue:function(){return!!this.selectedOptions.length},hasSearchQuery:function(){return!!this.searchQuery.length},selectedOptionValues:function(){var e=this;return this.selectedOptions.map((function(t){return t[e.optionIdentifier]}))},firstSelectedOption:function(){return this.hasValue?this.selectedOptions[0]:null},filteredOptions:function(){var e=this,t=this.options;return this.hideSelected&&(t=t.filter((function(t){return!e.selectedOptionValues.includes(t[e.optionIdentifier])}))),this.searchable&&(t=t.filter((function(t){return-1!==t[e.optionLabel].toUpperCase().indexOf(e.searchQuery.toUpperCase())}))),t}},watch:{searchQuery:function(e){this.hasSearchQuery&&this.showDropdown(),this.$refs.input.setAttribute("size",e.length+2),this.$emit("search-change",e)},selectedOptionValues:function(e){return this.multiple?this.$emit("input",e):this.$emit("input",e.length?e[0]:null)}},created:function(){var e=this;["click","touchstart"].forEach((function(t){document.addEventListener(t,e.hideDropdown)})),document.addEventListener("keydown",this.keydownListener)},destroyed:function(){var e=this;["click","touchstart"].forEach((function(t){document.removeEventListener(t,e.hideDropdown)})),document.removeEventListener("keydown",this.keydownListener)},methods:{keydownListener:function(e){40===e.keyCode&&this.inputIsActive&&!this.dropdownIsVisible&&(this.dropdownIsVisible=!0),8===e.keyCode&&this.inputIsActive&&this.hasValue&&!this.multiple&&(this.selectedOptions=[]),27===e.keyCode&&this.dropdownIsVisible&&(this.dropdownIsVisible=!1)},setDropdownPosition:function(){if("auto"===this.openDirection){var e=this.$refs.select.getBoundingClientRect(),t=this.$refs.dropdown.$el.getBoundingClientRect();return e.y+e.height+t.height>window.innerHeight?this.selectClass="vs-open-up":this.selectClass="vs-open-down"}return this.selectClass="vs-open-".concat(this.openDirection)},blurInput:function(){this.searchQuery="",this.inputIsActive=!1},showDropdown:function(){var e=this;this.dropdownIsVisible||(this.dropdownIsVisible=!0,this.$nextTick((function(){e.setDropdownPosition(),e.$refs.input.focus()})))},hideDropdown:function(e){this.dropdownIsVisible&&this.$refs.select!==e.target&&!this.$refs.select.contains(e.target)&&(this.dropdownIsVisible=!1)},selectOption:function(e){if(this.searchQuery="",this.dropdownIsVisible=!1,this.$emit("select",e),this.multiple)return this.selectedOptions.push(e);this.selectedOptions=[e]},deselectOption:function(e){var t=this;this.dropdownIsVisible=!1,this.$emit("deselect",e),this.selectedOptions=this.selectedOptions.filter((function(n){return n[t.optionIdentifier]!==e[t.optionIdentifier]}))}}},s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vs-reset"},[n("div",{ref:"select",staticClass:"vs-select",class:e.selectClass,on:{click:e.showDropdown}},[n("div",{staticClass:"vs-select-control"},[n("div",{staticClass:"vs-select-container"},[e.hasValue||e.hasSearchQuery?e._e():n("div",{staticClass:"vs-select-placeholder"},[e._v("\n                    "+e._s(e.placeholder)+"\n                ")]),e._v(" "),e.hasValue&&e.multiple?e._l(e.selectedOptions,(function(t){return n("div",{key:t[e.optionIdentifier],staticClass:"vs-select-multiple-value",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"vs-select-multiple-value-label"},[e._v("\n                            "+e._s(t[e.optionLabel])+"\n                        ")]),e._v(" "),n("div",{staticClass:"vs-select-multiple-value-remove",on:{click:function(n){return e.deselectOption(t)}}})])})):e._e(),e._v(" "),e.hasSearchQuery||!e.hasValue||e.multiple?e._e():n("div",{staticClass:"vs-select-single-value"},[e._v("\n                    "+e._s(e.firstSelectedOption[e.optionLabel])+"\n                ")]),e._v(" "),n("div",{staticClass:"vs-select-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],ref:"input",attrs:{id:e.id,size:"2"},domProps:{value:e.searchQuery},on:{blur:e.blurInput,focus:function(t){e.inputIsActive=!0},input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}})])],2),e._v(" "),n("div",{staticClass:"vs-select-actions"},[e.loading?n("div",{staticClass:"vs-select-loader"},e._l(4,(function(e){return n("div",{key:e})})),0):n("div",{staticClass:"vs-select-arrow"})])]),e._v(" "),e.dropdownIsVisible?n("select-dropdown",{ref:"dropdown",attrs:{options:e.filteredOptions,"loading-more":e.loadingMore,"selected-options":e.selectedOptions,"option-identifier":e.optionIdentifier,"no-options-message":e.noOptionsMessage},on:{"load-more":function(t){return e.$emit("load-more")},"select-option":e.selectOption,"deselect-option":e.deselectOption},scopedSlots:e._u([{key:"dropdown-option",fn:function(t){var i=t.option,o=t.classes;return[e._t("dropdown-option",[n("div",{staticClass:"vs-dropdown-option",class:o},[e._v("\n                        "+e._s(i[e.optionLabel])+"\n                    ")])],null,{option:i,classes:o})]}},{key:"dropdown-loader",fn:function(){return[e._t("dropdown-loader",[n("div",{staticClass:"vs-dropdown-loader"},[e._v("\n                        Loading...\n                    ")])])]},proxy:!0}],null,!0)}):e._e()],1)])};s._withStripped=!0;var r=t({render:s,staticRenderFns:[]},void 0,o,void 0,!1,void 0,void 0,void 0);e.default=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).componentName||"vue-select";e.component(t,r)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=vue-select.min.js.map
