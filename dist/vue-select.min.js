!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).VueSelect={})}(this,(function(e){"use strict";function t(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function o(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(e,t,o,i,n,s,r,l,c,d){"boolean"!=typeof r&&(c=l,l=r,r=!1);const a="function"==typeof o?o.options:o;let u;if(e&&e.render&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,n&&(a.functional=!0)),i&&(a._scopeId=i),s?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},a._ssrRegister=u):t&&(u=r?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),u)if(a.functional){const e=a.render;a.render=function(t,o){return u.call(o),e(t,o)}}else{const e=a.beforeCreate;a.beforeCreate=e?[].concat(e,u):[u]}return o}var s={props:{options:{type:Array,default:function(){return[]}},optionIdentifier:{type:[String,Number],required:!0},selectedOptions:{type:Array,default:function(){return[]}},loadingMore:{type:Boolean,default:!1},multiple:{type:Boolean,required:!0},scrollThrottleDelay:{type:Number,required:!0},loadMoreThreshold:{type:Number,required:!0},noOptionsMessage:{type:String,required:!0}},data:function(){return{showPointer:!0,focusedOption:null,lastScroll:0,scrollableHeight:0,throttlingScroll:!1}},computed:{selectedOptionValues:function(){var e=this;return this.selectedOptions.map((function(t){return t[e.optionIdentifier]}))},hasOptions:function(){return 0!==this.options.length},focusableOptions:function(){return this.options.filter((function(e){return!e.disabled}))},hasFocusableOptions:function(){return 0!==this.focusableOptions.length},focusedOptionIndex:function(){var e=this;return this.focusedOption?this.options.findIndex((function(t){return t[e.optionIdentifier]===e.focusedOption[e.optionIdentifier]})):null},lastOptionIndex:function(){return this.options.length-1}},watch:{options:{handler:function(){this.lastScroll=0,this.setScrollableHeight()},deep:!0},throttlingScroll:function(e){e||this.handleScrollEvent()}},created:function(){document.addEventListener("keydown",this.keydownListener),document.addEventListener("mousemove",this.mouseMove)},mounted:function(){this.$refs.scrollContent.addEventListener("scroll",this.throttleScroll),this.setScrollableHeight(),this.hasFocusableOptions&&this.setFocusedOption(this.focusableOptions[0])},beforeDestroy:function(){document.removeEventListener("keydown",this.keydownListener),document.removeEventListener("mousemove",this.mouseMove),this.$refs.scrollContent.removeEventListener("keydown",this.throttleScroll)},methods:{keydownListener:function(e){if(this.hasFocusableOptions){if(13===e.keyCode){if(e.preventDefault(),1===this.focusableOptions.length)return void this.toggleSelectedOption(this.focusableOptions[0]);this.toggleSelectedOption(this.options[this.focusedOptionIndex])}if(38===e.keyCode){e.preventDefault(),this.showPointer=!1;var t=this.getPreviousFocusableIndex(this.focusedOptionIndex);this.setFocusedOption(this.options[t]),this.scrollToOption(t)}if(40===e.keyCode){e.preventDefault(),this.showPointer=!1;var o=this.getNextFocusableIndex(this.focusedOptionIndex);this.setFocusedOption(this.options[o]),this.scrollToOption(o)}}},mouseMove:function(){this.showPointer=!0},setScrollableHeight:function(){this.scrollableHeight=this.$refs.scrollContent.scrollHeight-this.$refs.scrollContent.clientHeight},throttleScroll:function(){var e=this;this.scrollThrottleDelay<=0?this.handleScrollEvent():this.throttlingScroll||(this.throttlingScroll=!0,setTimeout((function(){e.throttlingScroll=!1}),this.scrollThrottleDelay))},handleScrollEvent:function(){var e=this.$refs.scrollContent.scrollTop;!this.loadingMore&&e>this.lastScroll&&this.scrollableHeight-e<this.loadMoreThreshold&&(this.lastScroll=e,this.$emit("load-more"))},getPreviousFocusableIndex:function(e){if(e>0){var t=e-1;return this.optionIsDisabled(this.options[t])?this.getPreviousFocusableIndex(t):t}return this.optionIsDisabled(this.options[0])?this.getNextFocusableIndex(0):0},getNextFocusableIndex:function(e){if(e!==this.lastOptionIndex){var t=null!==e?e+1:0;return this.optionIsDisabled(this.options[t])?this.getNextFocusableIndex(t):t}return this.optionIsDisabled(this.options[e])?this.getPreviousFocusableIndex(e):e},setFocusedOption:function(e){this.focusedOption=e},optionIsFocused:function(e){return this.focusedOption&&this.focusedOption[this.optionIdentifier]===e},optionIsSelected:function(e){return this.selectedOptionValues.includes(e)},optionIsDisabled:function(e){return e.disabled||!1},toggleSelectedOption:function(e){e&&!this.optionIsDisabled(e)&&(this.optionIsSelected(e[this.optionIdentifier])&&this.multiple?this.$emit("deselect-option",e):this.$emit("select-option",e))},scrollToTop:function(){this.$refs.scrollContent.scrollTo(0,0)},scrollToOption:function(e){this.$refs["option-".concat(e)][0].scrollIntoView({block:"nearest",inline:"start"})}}},r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"vs-dropdown",class:e.showPointer?"":"pointer-events-none"},[o("div",{ref:"scrollContent",staticClass:"vs-dropdown-scroll"},[e.hasOptions?e._l(e.options,(function(t,i){return o("div",{key:t[e.optionIdentifier],ref:"option-"+i,refInFor:!0,on:{click:function(o){return o.stopPropagation(),e.toggleSelectedOption(t)},mouseenter:function(o){return e.setFocusedOption(t)}}},[e._t("dropdown-option",null,null,{option:t,classes:{focused:e.optionIsFocused(t[e.optionIdentifier]),selected:e.optionIsSelected(t[e.optionIdentifier]),disabled:e.optionIsDisabled(t)}})],2)})):o("div",{staticClass:"vs-dropdown-no-options"},[e._v("\n            "+e._s(e.noOptionsMessage)+"\n        ")]),e._v(" "),e.loadingMore?e._t("dropdown-loader"):e._e()],2)])};r._withStripped=!0;var l={components:{SelectDropdown:n({render:r,staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0)},props:{value:{type:[String,Number,Array],default:function(){return[]}},id:{type:String,default:null},options:{type:Array,default:function(){return[]}},optionIdentifier:{type:[String,Number],default:"value"},optionLabel:{type:String,default:"label"},loading:{type:Boolean,default:!1},loadingMore:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},placeholder:{type:String,default:"Please select..."},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:"auto",validator:function(e){return-1!==["auto","down","up"].indexOf(e)}},closeOnSelect:{type:Boolean,default:null},searchDebounceDelay:{type:Number,default:150},scrollThrottleDelay:{type:Number,default:150},loadMoreThreshold:{type:Number,default:60},noOptionsMessage:{type:String,default:"No options found."}},data:function(){return{searchQuery:"",inputIsActive:!1,dropdownIsVisible:!1,dropdownOpenDirection:"down",selectedOptions:[],searchTimeout:null}},computed:{selectClasses:function(){return{disabled:this.disabled,"vs-open-up":"up"===this.dropdownOpenDirection,"vs-open-down":"down"===this.dropdownOpenDirection}},hasValue:function(){return 0!==this.selectedOptions.length},hasOptions:function(){return 0!==this.options.length},hasSearchQuery:function(){return 0!==this.searchQuery.length},selectedOptionValues:function(){var e=this;return this.selectedOptions.map((function(t){return t[e.optionIdentifier]}))},firstSelectedOption:function(){return this.hasValue?this.selectedOptions[0]:null},hideDropdownOnSelect:function(){return null===this.closeOnSelect?!this.multiple:this.closeOnSelect}},watch:{value:{handler:function(e){var t=this;if(this.hasOptions)if(this.selectedOptionValues){Array.isArray(e)||(e=[e]);var o=e.filter((function(e){return!t.selectedOptionValues.includes(e)}));e.length===this.selectedOptionValues.length&&0===o.length||this.setSelectedOptions(e)}else this.setSelectedOptions(e)},immediate:!0},options:{handler:function(){0===this.options.length&&this.setSelectedOptions(this.value)},deep:!0},searchQuery:function(e){this.disabled||(this.hasSearchQuery&&this.showDropdown(),this.$refs.dropdown&&this.$refs.dropdown.scrollToTop(),this.emitSearchQuery(e))},selectedOptionValues:function(e){if(!this.disabled)return this.multiple?this.$emit("input",e):0===e.length?this.$emit("input",null):void this.$emit("input",e[0])}},created:function(){var e=this;["click","touchstart"].forEach((function(t){document.addEventListener(t,e.deactivateSelectOnClick)})),document.addEventListener("keydown",this.keydownListener)},destroyed:function(){var e=this;["click","touchstart"].forEach((function(t){document.removeEventListener(t,e.deactivateSelectOnClick)})),document.removeEventListener("keydown",this.keydownListener)},methods:{keydownListener:function(e){this.disabled||(40===e.keyCode&&this.inputIsActive&&!this.dropdownIsVisible&&(this.dropdownIsVisible=!0),8===e.keyCode&&this.inputIsActive&&this.hasValue&&!this.multiple&&(this.selectedOptions=[]),9!==e.keyCode&&27!==e.keyCode||!this.dropdownIsVisible||(this.dropdownIsVisible=!1))},setSelectedOptions:function(e){var n=this;if(Array.isArray(e)||(e=[e]),0!==e.length){var s=i(this.options),r={},l=[];e.forEach((function(e){var i=r[e];i?l.push(n.formatSelectedOption(i)):s.some((function(i,c){if(r[i[n.optionIdentifier]]=function(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?o(Object(n),!0).forEach((function(o){t(e,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i),i[n.optionIdentifier]===e)return l.push(n.formatSelectedOption(i)),s.splice(0,c+1),!0}))})),this.selectedOptions=l}else this.selectedOptions=[]},setDropdownPosition:function(){if("auto"===this.openDirection){var e=this.$refs.select.getBoundingClientRect(),t=this.$refs.dropdown.$el.getBoundingClientRect();return e.y+e.height+t.height>window.innerHeight?void(this.dropdownOpenDirection="up"):void(this.dropdownOpenDirection="down")}this.dropdownOpenDirection=this.openDirection},activateSelect:function(){this.disabled||(this.focusInput(),this.showDropdown())},focusInput:function(){this.$refs.input.focus(),this.inputIsActive=!0},blurInput:function(){this.inputIsActive=!1},showDropdown:function(){var e=this;this.disabled||this.dropdownIsVisible||(this.dropdownIsVisible=!0,this.$nextTick((function(){e.setDropdownPosition()})))},deactivateSelectOnClick:function(e){this.dropdownIsVisible&&this.$refs.select!==e.target&&!this.$refs.select.contains(e.target)&&(this.searchQuery="",this.inputIsActive=!1,this.dropdownIsVisible=!1)},formatSelectedOption:function(e){var o;return t(o={},this.optionIdentifier,e[this.optionIdentifier]),t(o,this.optionLabel,e[this.optionLabel]),o},selectOption:function(e){this.disabled||(this.hideDropdownOnSelect&&(this.focusInput(),this.searchQuery="",this.dropdownIsVisible=!1),this.$emit("change"),this.$emit("select",e),this.multiple?this.selectedOptions.push(e):this.selectedOptions=[e])},deselectOption:function(e){var t=this;this.disabled||(this.hideDropdownOnSelect&&(this.dropdownIsVisible=!1),this.$emit("change"),this.$emit("deselect",e),this.selectedOptions=this.selectedOptions.filter((function(o){return o[t.optionIdentifier]!==e[t.optionIdentifier]})))},emitSearchQuery:function(e){var t=this;this.searchDebounceDelay<=0?this.$emit("query-change",e):(clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((function(){t.$emit("query-change",e)}),this.searchDebounceDelay))}}},c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"vs-reset"},[o("div",{ref:"select",staticClass:"vs-select",class:e.selectClasses,on:{click:e.activateSelect}},[o("div",{staticClass:"vs-select-control"},[o("div",{staticClass:"vs-select-container"},[e.hasValue||e.hasSearchQuery?e._e():o("div",{staticClass:"vs-select-placeholder"},[e._v("\n                    "+e._s(e.placeholder)+"\n                ")]),e._v(" "),e.hasValue&&e.multiple?e._l(e.selectedOptions,(function(t,i){return o("div",{key:i,staticClass:"vs-select-multiple-value",on:{click:function(e){e.stopPropagation()}}},[o("div",{staticClass:"vs-select-multiple-value-label"},[e._v("\n                            "+e._s(t[e.optionLabel])+"\n                        ")]),e._v(" "),o("div",{staticClass:"vs-select-multiple-value-remove",on:{click:function(o){return e.deselectOption(t)}}})])})):e._e(),e._v(" "),e.hasSearchQuery||!e.hasValue||e.multiple?e._e():o("div",{staticClass:"vs-select-single-value"},[e._v("\n                    "+e._s(e.firstSelectedOption[e.optionLabel])+"\n                ")]),e._v(" "),o("div",{staticClass:"vs-select-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],ref:"input",attrs:{id:e.id,type:"text",size:e.disabled||!e.searchable?2:null,readonly:e.disabled||!e.searchable,tabindex:e.disabled?-1:0,autocomplete:"off"},domProps:{value:e.searchQuery},on:{blur:e.blurInput,focus:e.activateSelect,input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}})])],2),e._v(" "),o("div",{staticClass:"vs-select-actions"},[e.loading?o("div",{staticClass:"vs-select-loader"},e._l(4,(function(e){return o("div",{key:e})})),0):o("div",{staticClass:"vs-select-arrow"})])]),e._v(" "),e.dropdownIsVisible?o("select-dropdown",{ref:"dropdown",attrs:{options:e.options,multiple:e.multiple,"loading-more":e.loadingMore,"selected-options":e.selectedOptions,"option-identifier":e.optionIdentifier,"no-options-message":e.noOptionsMessage,"scroll-throttle-delay":e.scrollThrottleDelay,"load-more-threshold":e.loadMoreThreshold},on:{"load-more":function(t){return e.$emit("load-more")},"select-option":e.selectOption,"deselect-option":e.deselectOption},scopedSlots:e._u([{key:"dropdown-option",fn:function(t){var i=t.option,n=t.classes;return[e._t("dropdown-option",[o("div",{staticClass:"vs-dropdown-option",class:n},[e._v("\n                        "+e._s(i[e.optionLabel])+"\n                    ")])],null,{option:i,classes:n})]}},{key:"dropdown-loader",fn:function(){return[e._t("dropdown-loader",[o("div",{staticClass:"vs-dropdown-loader"},[o("div",{staticClass:"vs-loader-dots"},[e._v("\n                            Loading\n                        ")])])])]},proxy:!0}],null,!0)}):e._e()],1)])};c._withStripped=!0;var d=n({render:c,staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);e.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.componentName||"vue-select";e.component(o,d)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=vue-select.min.js.map
