!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).VueSelect={})}(this,(function(e){"use strict";function t(e,t,i,n,o,s,r,l,d,c){"boolean"!=typeof r&&(d=l,l=r,r=!1);const u="function"==typeof i?i.options:i;let a;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),n&&(u._scopeId=n),s?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=a):t&&(a=r?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),a)if(u.functional){const e=u.render;u.render=function(t,i){return a.call(i),e(t,i)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,a):[a]}return i}var i={props:{options:{type:Array,default:function(){return[]}},optionIdentifier:{type:[String,Number],required:!0},selectedOptions:{type:Array,default:function(){return[]}},loadingMore:{type:Boolean,default:!1},noOptionsMessage:{type:String,required:!0}},data:function(){return{focusedOption:null,lastScroll:0,scrollableHeight:0,scrollLoaderThreshold:60}},computed:{selectedOptionValues:function(){var e=this;return this.selectedOptions.map((function(t){return t[e.optionIdentifier]}))},hasOptions:function(){return 0!==this.options.length},focusableOptions:function(){return this.options.filter((function(e){return!e.disabled}))},hasFocusableOptions:function(){return 0!==this.focusableOptions.length},focusedOptionIndex:function(){var e=this;return this.focusedOption?this.options.findIndex((function(t){return t[e.optionIdentifier]===e.focusedOption[e.optionIdentifier]})):null},lastOptionIndex:function(){return this.options.length-1}},created:function(){document.addEventListener("keydown",this.keydownListener)},mounted:function(){this.$refs.scrollContent.addEventListener("scroll",this.scrollListener),this.scrollableHeight=this.$refs.scrollContent.scrollHeight-this.$refs.scrollContent.clientHeight,this.hasFocusableOptions&&this.setFocusedOption(this.focusableOptions[0])},beforeDestroy:function(){document.removeEventListener("keydown",this.keydownListener),this.$refs.scrollContent.removeEventListener("keydown",this.scrollListener)},methods:{keydownListener:function(e){if(this.hasFocusableOptions){if(13===e.keyCode)return e.preventDefault(),1===this.focusableOptions.length?this.toggleSelectedOption(this.focusableOptions[0]):this.toggleSelectedOption(this.options[this.focusedOptionIndex]);if(38===e.keyCode){var t=this.getPreviousFocusableIndex(this.focusedOptionIndex);this.setFocusedOption(this.options[t]),this.scrollToOption(t)}if(40===e.keyCode){var i=this.getNextFocusableIndex(this.focusedOptionIndex);this.setFocusedOption(this.options[i]),this.scrollToOption(i)}}},scrollListener:function(){var e=this.$refs.scrollContent.scrollTop;!this.loadingMore&&e>this.lastScroll&&this.scrollableHeight-e<this.scrollLoaderThreshold&&(this.lastScroll=e,this.$emit("load-more"))},getPreviousFocusableIndex:function(e){if(e>0){var t=e-1;return this.optionIsDisabled(this.options[t])?this.getPreviousFocusableIndex(t):t}return this.optionIsDisabled(this.options[0])?this.getNextFocusableIndex(0):0},getNextFocusableIndex:function(e){if(e!==this.lastOptionIndex){var t=null!==e?e+1:0;return this.optionIsDisabled(this.options[t])?this.getNextFocusableIndex(t):t}return this.optionIsDisabled(this.options[e])?this.getPreviousFocusableIndex(e):e},setFocusedOption:function(e){this.focusedOption=e},clearFocusedOption:function(){this.focusedOption=null},optionIsFocused:function(e){return this.focusedOption&&this.focusedOption[this.optionIdentifier]===e},optionIsSelected:function(e){return this.selectedOptionValues.includes(e)},optionIsDisabled:function(e){return e.disabled||!1},toggleSelectedOption:function(e){if(e){if(this.optionIsDisabled(e))return;if(this.optionIsSelected(e[this.optionIdentifier]))return this.$emit("deselect-option",e);this.$emit("select-option",e)}},scrollToOption:function(e){this.$refs["option-".concat(e)][0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}}},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vs-dropdown"},[i("div",{ref:"scrollContent",staticClass:"vs-dropdown-scroll"},[e.hasOptions?e._l(e.options,(function(t,n){return i("div",{key:t[e.optionIdentifier],ref:"option-"+n,refInFor:!0,on:{click:function(i){return i.stopPropagation(),e.toggleSelectedOption(t)},mouseout:e.clearFocusedOption,mouseenter:function(i){return e.setFocusedOption(t)}}},[e._t("dropdown-option",null,null,{option:t,classes:{focused:e.optionIsFocused(t[e.optionIdentifier]),selected:e.optionIsSelected(t[e.optionIdentifier]),disabled:e.optionIsDisabled(t)}})],2)})):i("div",{staticClass:"vs-dropdown-no-options"},[e._v("\n            "+e._s(e.noOptionsMessage)+"\n        ")]),e._v(" "),e.loadingMore?e._t("dropdown-loader"):e._e()],2)])};n._withStripped=!0;var o={components:{SelectDropdown:t({render:n,staticRenderFns:[]},void 0,i,void 0,!1,void 0,!1,void 0,void 0,void 0)},props:{value:{type:[String,Number,Array],default:function(){return[]}},id:{type:String,default:null},options:{type:Array,default:function(){return[]}},optionIdentifier:{type:[String,Number],default:"value"},optionLabel:{type:String,default:"label"},loading:{type:Boolean,default:!1},loadingMore:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Please select..."},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:"auto",validator:function(e){return-1!==["auto","down","up"].indexOf(e)}},noOptionsMessage:{type:String,default:"No options found."}},data:function(){return{searchQuery:"",inputIsActive:!1,dropdownIsVisible:!1,dropdownOpenDirection:"down",selectedOptions:[]}},computed:{selectClasses:function(){return{disabled:this.disabled,"vs-open-up":"up"===this.dropdownOpenDirection,"vs-open-down":"down"===this.dropdownOpenDirection}},hasValue:function(){return 0!==this.selectedOptions.length},hasSearchQuery:function(){return 0!==this.searchQuery.length},selectedOptionValues:function(){var e=this;return this.selectedOptions.map((function(t){return t[e.optionIdentifier]}))},firstSelectedOption:function(){return this.hasValue?this.selectedOptions[0]:null},filteredOptions:function(){var e=this,t=this.options;return this.hideSelected&&(t=t.filter((function(t){return!e.selectedOptionValues.includes(t[e.optionIdentifier])}))),this.searchable&&(t=t.filter((function(t){return-1!==t[e.optionLabel].toUpperCase().indexOf(e.searchQuery.toUpperCase())}))),t}},watch:{options:{handler:function(e){var t=this,i=Array.isArray(this.value)?this.value:[this.value];this.selectedOptions=e.filter((function(e){return i.includes(e[t.optionIdentifier])}))},deep:!0,immediate:!0},searchQuery:function(e){this.disabled||(this.hasSearchQuery&&this.showDropdown(),this.$refs.input.setAttribute("size",e.length+2),this.$emit("search-change",e))},selectedOptionValues:function(e){if(!this.disabled){if(this.multiple)return this.$emit("input",e);if(0!==e.length)return this.$emit("input",e[0]);this.$emit("input",null)}}},created:function(){var e=this;["click","touchstart"].forEach((function(t){document.addEventListener(t,e.deactivateSelectOnClick)})),document.addEventListener("keydown",this.keydownListener)},destroyed:function(){var e=this;["click","touchstart"].forEach((function(t){document.removeEventListener(t,e.deactivateSelectOnClick)})),document.removeEventListener("keydown",this.keydownListener)},methods:{keydownListener:function(e){this.disabled||(40===e.keyCode&&this.inputIsActive&&!this.dropdownIsVisible&&(this.dropdownIsVisible=!0),8===e.keyCode&&this.inputIsActive&&this.hasValue&&!this.multiple&&(this.selectedOptions=[]),9!==e.keyCode&&27!==e.keyCode||!this.dropdownIsVisible||(this.dropdownIsVisible=!1))},setDropdownPosition:function(){if("auto"===this.openDirection){var e=this.$refs.select.getBoundingClientRect(),t=this.$refs.dropdown.$el.getBoundingClientRect();return e.y+e.height+t.height>window.innerHeight?this.dropdownOpenDirection="up":this.dropdownOpenDirection="down"}return this.dropdownOpenDirection=this.openDirection},activateSelect:function(){this.disabled||(this.focusInput(),this.showDropdown())},focusInput:function(){this.$refs.input.focus(),this.inputIsActive=!0},blurInput:function(){this.inputIsActive=!1},showDropdown:function(){var e=this;this.disabled||this.dropdownIsVisible||(this.dropdownIsVisible=!0,this.$nextTick((function(){e.setDropdownPosition()})))},deactivateSelectOnClick:function(e){this.dropdownIsVisible&&this.$refs.select!==e.target&&!this.$refs.select.contains(e.target)&&(this.searchQuery="",this.inputIsActive=!1,this.dropdownIsVisible=!1)},selectOption:function(e){if(!this.disabled){if(this.focusInput(),this.searchQuery="",this.dropdownIsVisible=!1,this.$emit("select",e),this.multiple)return this.selectedOptions.push(e);this.selectedOptions=[e]}},deselectOption:function(e){var t=this;this.disabled||(this.dropdownIsVisible=!1,this.$emit("deselect",e),this.selectedOptions=this.selectedOptions.filter((function(i){return i[t.optionIdentifier]!==e[t.optionIdentifier]})))}}},s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vs-reset"},[i("div",{ref:"select",staticClass:"vs-select",class:e.selectClasses,on:{click:e.activateSelect}},[i("div",{staticClass:"vs-select-control"},[i("div",{staticClass:"vs-select-container"},[e.hasValue||e.hasSearchQuery?e._e():i("div",{staticClass:"vs-select-placeholder"},[e._v("\n                    "+e._s(e.placeholder)+"\n                ")]),e._v(" "),e.hasValue&&e.multiple?e._l(e.selectedOptions,(function(t){return i("div",{key:t[e.optionIdentifier],staticClass:"vs-select-multiple-value",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"vs-select-multiple-value-label"},[e._v("\n                            "+e._s(t[e.optionLabel])+"\n                        ")]),e._v(" "),i("div",{staticClass:"vs-select-multiple-value-remove",on:{click:function(i){return e.deselectOption(t)}}})])})):e._e(),e._v(" "),e.hasSearchQuery||!e.hasValue||e.multiple?e._e():i("div",{staticClass:"vs-select-single-value"},[e._v("\n                    "+e._s(e.firstSelectedOption[e.optionLabel])+"\n                ")]),e._v(" "),i("div",{staticClass:"vs-select-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],ref:"input",attrs:{id:e.id,size:"2",type:"text",readonly:e.disabled,tabindex:e.disabled?-1:0,autocomplete:"off"},domProps:{value:e.searchQuery},on:{blur:e.blurInput,focus:e.activateSelect,input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}})])],2),e._v(" "),i("div",{staticClass:"vs-select-actions"},[e.loading?i("div",{staticClass:"vs-select-loader"},e._l(4,(function(e){return i("div",{key:e})})),0):i("div",{staticClass:"vs-select-arrow"})])]),e._v(" "),e.dropdownIsVisible?i("select-dropdown",{ref:"dropdown",attrs:{options:e.filteredOptions,"loading-more":e.loadingMore,"selected-options":e.selectedOptions,"option-identifier":e.optionIdentifier,"no-options-message":e.noOptionsMessage},on:{"load-more":function(t){return e.$emit("load-more")},"select-option":e.selectOption,"deselect-option":e.deselectOption},scopedSlots:e._u([{key:"dropdown-option",fn:function(t){var n=t.option,o=t.classes;return[e._t("dropdown-option",[i("div",{staticClass:"vs-dropdown-option",class:o},[e._v("\n                        "+e._s(n[e.optionLabel])+"\n                    ")])],null,{option:n,classes:o})]}},{key:"dropdown-loader",fn:function(){return[e._t("dropdown-loader",[i("div",{staticClass:"vs-dropdown-loader"},[e._v("\n                        Loading...\n                    ")])])]},proxy:!0}],null,!0)}):e._e()],1)])};s._withStripped=!0;var r=t({render:s,staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);e.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.componentName||"vue-select";e.component(i,r)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=vue-select.min.js.map
